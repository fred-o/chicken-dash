<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>Module (chicken file posix) - The CHICKEN Scheme wiki</title>
<meta http-equiv="Content-Style-Type" content="text/css"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="stylesheet" type="text/css" href="../../chicken.css"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/></head>
<body>
<div id="menu">
<ul>
<li><a href="http://wiki.call-cc.org/" class="internal">Wiki</a></li>
<li><a href="http://code.call-cc.org/" class="internal">Download</a></li>
<li><a href="http://wiki.call-cc.org/manual/index" class="internal">Manual</a></li>
<li><a href="http://eggs.call-cc.org/" class="internal">Eggs</a></li>
<li><a href="http://api.call-cc.org/doc/" class="internal">API</a></li>
<li><a href="http://tests.call-cc.org/" class="internal">Tests</a></li>
<li><a href="http://bugs.call-cc.org/" class="internal">Bugs</a></li></ul></div>
<div id="search">
<form action="http://wiki.call-cc.org/search">
<div><label>free text<input type="text" name="text"/></label><label>identifier<input type="text" name="ident"/></label><input type="submit" value="search"/><a href="http://wiki.call-cc.org/search-help">search help</a></div></form></div>
<ul id="page-specific-links">
<li><a href="http://wiki.call-cc.org/man/5/Module%20(chicken%20file%20posix)?action=show">show</a></li>
<li><a href="http://wiki.call-cc.org/man/5/Module%20(chicken%20file%20posix)?action=edit" rel="nofollow">edit</a></li>
<li><a href="http://wiki.call-cc.org/man/5/Module%20(chicken%20file%20posix)?action=history">history</a></li></ul>
<div id="content">
<ul class="tags">
<li>manual</li></ul>
<div id="toc">
<ol>
<li><a href="Module (chicken file posix).html#module-chicken-file-posix">Module (chicken file posix)</a>
<ol>
<li><a href="Module (chicken file posix).html#constants">Constants</a>
<ol>
<li><a href="Module (chicken file posix).html#file-control-commands">File-control Commands</a></li>
<li><a href="Module (chicken file posix).html#file-positions">File positions</a></li>
<li><a href="Module (chicken file posix).html#standard-io-file-descriptors">Standard I/O file-descriptors</a></li>
<li><a href="Module (chicken file posix).html#open-flags">Open flags</a></li>
<li><a href="Module (chicken file posix).html#open-flags-for-create-pipe">Open flags for create-pipe</a></li>
<li><a href="Module (chicken file posix).html#permission-bits">Permission bits</a></li></ol></li>
<li><a href="Module (chicken file posix).html#information-about-files">Information about files</a>
<ol>
<li><a href="Module (chicken file posix).html#directory">directory?</a></li>
<li><a href="Module (chicken file posix).html#file-type">file-type</a></li>
<li><a href="Module (chicken file posix).html#character-device">character-device?</a></li>
<li><a href="Module (chicken file posix).html#block-device">block-device?</a></li>
<li><a href="Module (chicken file posix).html#socket">socket?</a></li>
<li><a href="Module (chicken file posix).html#regular-file">regular-file?</a></li></ol></li>
<li><a href="Module (chicken file posix).html#fifos">Fifos</a>
<ol>
<li><a href="Module (chicken file posix).html#create-fifo">create-fifo</a></li>
<li><a href="Module (chicken file posix).html#fifo">fifo?</a></li></ol></li>
<li><a href="Module (chicken file posix).html#retrieving-file-attributes">Retrieving file attributes</a>
<ol>
<li><a href="Module (chicken file posix).html#file-access-time">file-access-time</a></li>
<li><a href="Module (chicken file posix).html#file-change-time">file-change-time</a></li>
<li><a href="Module (chicken file posix).html#file-modification-time">file-modification-time</a></li>
<li><a href="Module (chicken file posix).html#set-file-times">set-file-times!</a></li>
<li><a href="Module (chicken file posix).html#file-stat">file-stat</a></li>
<li><a href="Module (chicken file posix).html#file-position">file-position</a></li>
<li><a href="Module (chicken file posix).html#file-size">file-size</a></li>
<li><a href="Module (chicken file posix).html#file-owner">file-owner</a></li>
<li><a href="Module (chicken file posix).html#set-file-owner">set-file-owner!</a></li>
<li><a href="Module (chicken file posix).html#file-group">file-group</a></li>
<li><a href="Module (chicken file posix).html#set-file-group">set-file-group!</a></li>
<li><a href="Module (chicken file posix).html#file-permissions">file-permissions</a></li>
<li><a href="Module (chicken file posix).html#set-file-permissions">set-file-permissions!</a></li>
<li><a href="Module (chicken file posix).html#file-truncate">file-truncate</a></li>
<li><a href="Module (chicken file posix).html#set-file-position">set-file-position!</a></li>
<li><a href="Module (chicken file posix).html#file-creation-mode">file-creation-mode</a></li></ol></li>
<li><a href="Module (chicken file posix).html#hard-and-symbolic-links">Hard and symbolic links</a>
<ol>
<li><a href="Module (chicken file posix).html#file-link">file-link</a></li>
<li><a href="Module (chicken file posix).html#symbolic-link">symbolic-link?</a></li>
<li><a href="Module (chicken file posix).html#create-symbolic-link">create-symbolic-link</a></li>
<li><a href="Module (chicken file posix).html#read-symbolic-link">read-symbolic-link</a></li></ol></li>
<li><a href="Module (chicken file posix).html#file-descriptors-and-low-level-io">File descriptors and low-level I/O</a>
<ol>
<li><a href="Module (chicken file posix).html#duplicate-fileno">duplicate-fileno</a></li>
<li><a href="Module (chicken file posix).html#file-close">file-close</a></li>
<li><a href="Module (chicken file posix).html#file-open">file-open</a></li>
<li><a href="Module (chicken file posix).html#file-mkstemp">file-mkstemp</a></li>
<li><a href="Module (chicken file posix).html#file-read">file-read</a></li>
<li><a href="Module (chicken file posix).html#file-select">file-select</a></li>
<li><a href="Module (chicken file posix).html#file-write">file-write</a></li>
<li><a href="Module (chicken file posix).html#file-control">file-control</a></li>
<li><a href="Module (chicken file posix).html#open-input-file">open-input-file*</a></li>
<li><a href="Module (chicken file posix).html#open-output-file">open-output-file*</a></li>
<li><a href="Module (chicken file posix).html#port-fileno">port-&gt;fileno</a></li></ol></li>
<li><a href="Module (chicken file posix).html#record-locking">Record locking</a>
<ol>
<li><a href="Module (chicken file posix).html#file-lock">file-lock</a></li>
<li><a href="Module (chicken file posix).html#file-lockblocking">file-lock/blocking</a></li>
<li><a href="Module (chicken file posix).html#file-test-lock">file-test-lock</a></li>
<li><a href="Module (chicken file posix).html#file-unlock">file-unlock</a></li></ol></li></ol></li></ol></div><a href="Module (chicken file posix).html#module-chicken-file-posix">
<a class="dashingAutolink" name="autolink-517"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Module%20%28chicken%20file%20posix%29"></a><a class="dashingAutolink" name="autolink-525"></a><a class="dashAnchor" name="//apple_ref/cpp/Module/%28chicken%20file%20posix%29"></a><h2 id="module-chicken-file-posix">Module (chicken file posix)</h2></a>
<p>This module provides various operations on files and directories that are more POSIX-oriented than the generic higher-level operations from <a href="Module (chicken file).html" class="internal">Module (chicken file)</a>.</p>
<p>Note that the following definitions are not all available on non-UNIX systems like Windows. See below for Windows specific notes.</p>
<p>All errors related to failing file-operations will signal a condition of kind <tt>(exn i/o file)</tt>.</p><a href="Module (chicken file posix).html#constants">
<a class="dashingAutolink" name="autolink-518"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Constants"></a><h3 id="constants">Constants</h3></a><a href="Module (chicken file posix).html#file-control-commands">
<h4 id="file-control-commands">File-control Commands</h4></a><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-573"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fcntl%2Fdupfd"></a><tt>fcntl/dupfd</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-574"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fcntl%2Fgetfd"></a><tt>fcntl/getfd</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-575"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fcntl%2Fsetfd"></a><tt>fcntl/setfd</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-576"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fcntl%2Fgetfl"></a><tt>fcntl/getfl</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-577"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fcntl%2Fsetfl"></a><tt>fcntl/setfl</tt>
<br/></span>
<p>Operations used with <tt>file-control</tt>.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), these are all defined as zero.  The <tt>file-control</tt> procedure to use these with is also unimplemented and will raise an error when called.</p><a href="Module (chicken file posix).html#file-positions">
<h4 id="file-positions">File positions</h4></a><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-578"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/seek%2Fcur"></a><tt>seek/cur</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-579"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/seek%2Fset"></a><tt>seek/set</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-580"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/seek%2Fend"></a><tt>seek/end</tt>
<br/></span>
<p>File positions for <tt>set-file-position!</tt>.</p><a href="Module (chicken file posix).html#standard-io-file-descriptors">
<h4 id="standard-io-file-descriptors">Standard I/O file-descriptors</h4></a><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-581"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fileno%2Fstdin"></a><tt>fileno/stdin</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-582"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fileno%2Fstdout"></a><tt>fileno/stdout</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-583"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/fileno%2Fstderr"></a><tt>fileno/stderr</tt>
<br/></span>
<p>Standard I/O file descriptor numbers, used with procedures such as <tt>open-input-file*</tt> which take file descriptors.</p><a href="Module (chicken file posix).html#open-flags">
<h4 id="open-flags">Open flags</h4></a><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-584"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Frdonly"></a><tt>open/rdonly</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-585"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fwronly"></a><tt>open/wronly</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-586"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Frdwr"></a><tt>open/rdwr</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-587"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fread"></a><tt>open/read</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-588"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fwrite"></a><tt>open/write</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-589"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fcreat"></a><tt>open/creat</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-590"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fappend"></a><tt>open/append</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-591"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fexcl"></a><tt>open/excl</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-592"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fnoctty"></a><tt>open/noctty</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-593"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fnonblock"></a><tt>open/nonblock</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-594"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Ftrunc"></a><tt>open/trunc</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-595"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fsync"></a><tt>open/sync</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-596"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Ffsync"></a><tt>open/fsync</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-597"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fbinary"></a><tt>open/binary</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-598"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Ftext"></a><tt>open/text</tt>
<br/></span>
<p>Open flags used with the <tt>file-open</tt> procedure.  <tt>open/read</tt> is a convenience synonym for <tt>open/rdonly</tt>, as is <tt>open/write</tt> for <tt>open/wronly</tt>.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), <tt>open/noctty</tt>, <tt>open/nonblock</tt>, <tt>open/fsync</tt> and <tt>open/sync</tt> are defined as zero because the corresponding flag doesn&#39;t exist. This means you can safely add these to any set of flags when opening a file or pipe, but it simply won&#39;t have an effect.</p><a href="Module (chicken file posix).html#open-flags-for-create-pipe">
<h4 id="open-flags-for-create-pipe">Open flags for create-pipe</h4></a><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-599"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/open%2Fnoinherit"></a><tt>open/noinherit</tt>
<br/></span>
<p>This variable is a mode value for <tt>create-pipe</tt>. Useful when spawning a child process on Windows.  On UNIX it is defined as zero, so you can safely pass it there, but it will have no effect.</p><a href="Module (chicken file posix).html#permission-bits">
<h4 id="permission-bits">Permission bits</h4></a><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-600"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Firusr"></a><tt>perm/irusr</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-601"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fiwusr"></a><tt>perm/iwusr</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-602"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fixusr"></a><tt>perm/ixusr</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-603"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Firgrp"></a><tt>perm/irgrp</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-604"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fiwgrp"></a><tt>perm/iwgrp</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-605"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fixgrp"></a><tt>perm/ixgrp</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-606"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Firoth"></a><tt>perm/iroth</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-607"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fiwoth"></a><tt>perm/iwoth</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-608"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fixoth"></a><tt>perm/ixoth</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-609"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Firwxu"></a><tt>perm/irwxu</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-610"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Firwxg"></a><tt>perm/irwxg</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-611"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Firwxo"></a><tt>perm/irwxo</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-612"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fisvtx"></a><tt>perm/isvtx</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-613"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fisuid"></a><tt>perm/isuid</tt>
<br/></span><span class="definition constant"><em>[constant]</em> <a class="dashingAutolink" name="autolink-614"></a><a class="dashAnchor" name="//apple_ref/cpp/Constant/perm%2Fisgid"></a><tt>perm/isgid</tt>
<br/></span>
<p>Permission bits used with, for example, <tt>file-open</tt>.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), <tt>perm/isvtx</tt>, <tt>perm/isuid</tt> and <tt>perm/isgid</tt> are defined as zero because the corresponding permission doesn&#39;t exist.  This means you can safely add these to any set of flags when opening a file or pipe, but it simply won&#39;t have an effect.</p><a href="Module (chicken file posix).html#information-about-files">
<a class="dashingAutolink" name="autolink-519"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Information%20about%20files"></a><h3 id="information-about-files">Information about files</h3></a><a href="Module (chicken file posix).html#directory">
<h4 id="directory">directory?</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-526"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28directory%3F%20FILE%29"></a><tt>(directory? FILE)</tt>
<br/></span>
<p>Returns <tt>#t</tt> if <tt>FILE</tt> designates a directory. Otherwise, it returns <tt>#f</tt>. <tt>FILE</tt> may be a pathname, a file-descriptor or a port object.</p><a href="Module (chicken file posix).html#file-type">
<h4 id="file-type">file-type</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-527"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-type%20FILE%20%5BLINK%20%5BERROR%5D%5D%29"></a><tt>(file-type FILE [LINK [ERROR]])</tt>
<br/></span>
<p>Returns the file-type for <tt>FILE</tt>, which should be a filename, a file-descriptor or a port object. If <tt>LINK</tt> is given and true, symbolic-links are not followed:</p>
<pre><tt> regular-file
 directory
 fifo
 socket
 symbolic-link
 character-device
 block-device</tt></pre>
<p>Note that not all types are supported on every platform. If <tt>ERROR</tt> is given and false, then <tt>file-type</tt> returns <tt>#f</tt> if the file does not exist; otherwise, it signals an error.</p><a href="Module (chicken file posix).html#character-device">
<h4 id="character-device">character-device?</h4></a><a href="Module (chicken file posix).html#block-device">
<h4 id="block-device">block-device?</h4></a><a href="Module (chicken file posix).html#socket">
<h4 id="socket">socket?</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-528"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28character-device%3F%20FILE%29"></a><tt>(character-device? FILE)</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-529"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28block-device%3F%20FILE%29"></a><tt>(block-device? FILE)</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-530"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28socket%3F%20FILE%29"></a><tt>(socket? FILE)</tt>
<br/></span>
<p>These procedures return <tt>#t</tt> if <tt>FILE</tt> given is of the appropriate type. <tt>FILE</tt> may be a filename, a file-descriptor or a port object. Note that these operations follow symbolic links. If the file does not exist, <tt>#f</tt> is returned.</p><a href="Module (chicken file posix).html#regular-file">
<h4 id="regular-file">regular-file?</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-531"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28regular-file%3F%20FILE%29"></a><tt>(regular-file? FILE)</tt>
<br/></span>
<p>Returns true, if <tt>FILE</tt> names a regular file (not a directory, socket, etc.)  This operation follows symbolic links; use either <tt>symbolic-link?</tt> or <tt>file-type</tt> if you need to test for symlinks. <tt>FILE</tt> may refer to a filename, file descriptor or ports object.</p><a href="Module (chicken file posix).html#fifos">
<a class="dashingAutolink" name="autolink-520"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Fifos"></a><h3 id="fifos">Fifos</h3></a><a href="Module (chicken file posix).html#create-fifo">
<h4 id="create-fifo">create-fifo</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-532"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28create-fifo%20FILENAME%20%5BMODE%5D%29"></a><tt>(create-fifo FILENAME [MODE])</tt>
<br/></span>
<p>Creates a FIFO with the name <tt>FILENAME</tt> and the permission bits <tt>MODE</tt>, which defaults to</p>
<pre><tt class="highlight scheme-language"> <span class="paren1">(<span class="default">+ perm/irwxu perm/irwxg perm/irwxo</span>)</span></tt></pre>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#fifo">
<h4 id="fifo">fifo?</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-533"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28fifo%3F%20FILE%29"></a><tt>(fifo? FILE)</tt>
<br/></span>
<p>Returns <tt>#t</tt> if <tt>FILE</tt> names a FIFO. <tt>FILE</tt> may be a filename, a port or a file-descriptor.</p><a href="Module (chicken file posix).html#retrieving-file-attributes">
<a class="dashingAutolink" name="autolink-521"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Retrieving%20file%20attributes"></a><h3 id="retrieving-file-attributes">Retrieving file attributes</h3></a><a href="Module (chicken file posix).html#file-access-time">
<h4 id="file-access-time">file-access-time</h4></a><a href="Module (chicken file posix).html#file-change-time">
<h4 id="file-change-time">file-change-time</h4></a><a href="Module (chicken file posix).html#file-modification-time">
<h4 id="file-modification-time">file-modification-time</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-534"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-access-time%20FILE%29"></a><tt>(file-access-time FILE)</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-535"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-change-time%20FILE%29"></a><tt>(file-change-time FILE)</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-536"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-modification-time%20FILE%29"></a><tt>(file-modification-time FILE)</tt>
<br/></span>
<p>Returns time (in seconds) of the last access, inode change or content modification of <tt>FILE</tt>, respectively. <tt>FILE</tt> may be a filename, a file-descriptor or a file-backed port. If the file does not exist, an error is signaled.</p><a href="Module (chicken file posix).html#set-file-times">
<h4 id="set-file-times">set-file-times!</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-537"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set-file-times%21%20FILE%20%5BMTIME%20%5BATIME%5D%5D%29"></a><tt>(set-file-times! FILE [MTIME [ATIME]])</tt>
<br/></span>
<p>Sets the time of last modification <tt>MTIME</tt> and/or time of last access <tt>ATIME</tt> (in seconds) for <tt>FILE</tt>. <tt>FILE</tt> may be a filename, a file-descriptor or a file-backed port. If the file does not exist, an error is signaled.</p>
<p>If neither <tt>MTIME</tt> nor <tt>ATIME</tt> is supplied, the current time is used.  If only <tt>MTIME</tt> is supplied, <tt>ATIME</tt> will be set to the same value.  If an argument is <tt>#f</tt>, it will not be changed.</p>
<p>Consequently, if only <tt>MTIME</tt> is passed and it is <tt>#f</tt>, <tt>ATIME</tt> is assumed to be <tt>#f</tt> as well and neither will be changed.</p><a href="Module (chicken file posix).html#file-stat">
<h4 id="file-stat">file-stat</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-538"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-stat%20FILE%20%5BLINK%5D%29"></a><tt>(file-stat FILE [LINK])</tt>
<br/></span>
<p>Returns a 13-element vector with the following contents:</p>
<table>
<tbody><tr>
<th>index</th>
    
<th>value</th>
    
<th>field</th>
    
<th>notes</th></tr>

<tr>
<td>0</td>
    
<td>inode number</td>
    
<td><tt>st_ino</tt></td>
    
<td></td></tr>

<tr>
<td>1</td>
    
<td>mode</td>
    
<td><tt>st_mode</tt></td>
    
<td>bitfield combining file permissions and file type</td></tr>

<tr>
<td>2</td>
    
<td>number of hard links</td>
    
<td><tt>st_nlink</tt></td>
    
<td></td></tr>

<tr>
<td>3</td>
    
<td>UID of owner</td>
    
<td><tt>st_uid</tt></td>
    
<td>as with <tt>file-owner</tt></td></tr>

<tr>
<td>4</td>
    
<td>GID of owner</td>
    
<td><tt>st_gid</tt></td>
    
<td></td></tr>

<tr>
<td>5</td>
    
<td>size</td>
    
<td><tt>st_size</tt></td>
    
<td>as with <tt>file-size</tt></td></tr>

<tr>
<td>6</td>
    
<td>access time</td>
    
<td><tt>st_atime</tt></td>
    
<td>as with <tt>file-access-time</tt></td></tr>

<tr>
<td>7</td>
    
<td>change time</td>
    
<td><tt>st_ctime</tt></td>
    
<td>as with <tt>file-change-time</tt></td></tr>

<tr>
<td>8</td>
    
<td>modification time</td>
    
<td><tt>st_mtime</tt></td>
    
<td>as with <tt>file-modification-time</tt></td></tr>

<tr>
<td>9</td>
    
<td>parent device ID </td>
    
<td><tt>st_dev</tt></td>
    
<td>ID of device on which this file resides</td></tr>

<tr>
<td>10</td>
    
<td>device ID</td>
    
<td><tt>st_rdev</tt></td>
    
<td>device ID for special files (i.e. the raw major/minor number)</td></tr>

<tr>
<td>11</td>
    
<td>block size</td>
    
<td><tt>st_blksize</tt></td>
    
<td></td></tr>

<tr>
<td>12</td>
    
<td>number of blocks allocated</td>
    
<td><tt>st_blocks</tt></td>
    
<td></td></tr></tbody></table>
<p>On Windows systems, the last 4 values are undefined.</p>
<p>By default, symbolic links are followed and the status of the referenced file is returned; however, if the optional argument <tt>LINK</tt> is given and not <tt>#f</tt>, the status of the link itself is returned.</p>
<p><tt>FILE</tt> may be a filename, port or file-descriptor.</p>
<p>Note that for very large files, the <tt>file-size</tt> value may be an inexact integer.</p><a href="Module (chicken file posix).html#file-position">
<h4 id="file-position">file-position</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-539"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-position%20FILE%29"></a><tt>(file-position FILE)</tt>
<br/></span>
<p>Returns the current file position of <tt>FILE</tt>, which should be a port or a file-descriptor.</p><a href="Module (chicken file posix).html#file-size">
<h4 id="file-size">file-size</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-540"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-size%20FILE%29"></a><tt>(file-size FILE)</tt>
<br/></span>
<p>Returns the size of the file designated by <tt>FILE</tt>.  <tt>FILE</tt> may be a filename, a file-descriptor or a port object.  If the file does not exist, an error is signaled. Note that for very large files, <tt>file-size</tt> may return an inexact integer.</p><a href="Module (chicken file posix).html#file-owner">
<h4 id="file-owner">file-owner</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-541"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-owner%20FILE%29"></a><tt>(file-owner FILE)</tt>
<br/></span>
<p>Returns the user-id of <tt>FILE</tt> (an exact integer).  <tt>FILE</tt> may be a filename, a file-descriptor or a port object.</p><a href="Module (chicken file posix).html#set-file-owner">
<h4 id="set-file-owner">set-file-owner!</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-542"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set-file-owner%21%20FILE%20UID%29"></a><tt>(set-file-owner! FILE UID)</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-543"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set%21%20%28file-owner%20FILE%29%20UID%29"></a><tt>(set! (file-owner FILE) UID)</tt>
<br/></span>
<p>Changes the ownership of <tt>FILE</tt> to user-id <tt>UID</tt> (which should be an exact integer) using the <tt>chown()</tt> system call.  <tt>FILE</tt> may be a filename, a file-descriptor or a port object.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#file-group">
<h4 id="file-group">file-group</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-544"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-group%20FILE%29"></a><tt>(file-group FILE)</tt>
<br/></span>
<p>Returns the group-id of <tt>FILE</tt>.  <tt>FILE</tt> may be a filename, a file-descriptor or a port object.</p><a href="Module (chicken file posix).html#set-file-group">
<h4 id="set-file-group">set-file-group!</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-545"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set-file-group%21%20FILE%20GID%29"></a><tt>(set-file-group! FILE GID)</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-546"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set%21%20%28file-group%20FILE%29%20GID%29"></a><tt>(set! (file-group FILE) GID)</tt>
<br/></span>
<p>Changes the group ownership of <tt>FILE</tt> to group-id <tt>GID</tt> (which should be an exact integer) using the <tt>chgrp()</tt> system call. <tt>FILE</tt> may be a filename, a file-descriptor or a port object.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#file-permissions">
<h4 id="file-permissions">file-permissions</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-547"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-permissions%20FILE%29"></a><tt>(file-permissions FILE)</tt>
<br/></span>
<p>Returns the permission bits for <tt>FILE</tt>. You can test this value by performing bitwise operations on the result and the <tt>perm/...</tt> values.  <tt>FILE</tt> may be a filename, a file-descriptor or a port object.</p><a href="Module (chicken file posix).html#set-file-permissions">
<h4 id="set-file-permissions">set-file-permissions!</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-548"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set-file-permissions%21%20FILE%20MODE%29"></a><tt>(set-file-permissions! FILE MODE)</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-549"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set%21%20%28file-permissions%20FILE%29%20MODE%29"></a><tt>(set! (file-permissions FILE) MODE)</tt>
<br/></span>
<p>Changes the current permission bits for <tt>FILE</tt> to <tt>MODE</tt> using the <tt>chmod()</tt> system call.  The <tt>perm/...</tt> variables contain the various permission bits and can be combinded with the <tt>bitwise-ior</tt> procedure.  <tt>FILE</tt> may be a filename, a file-descriptor or a port object, <tt>MODE</tt> should be a fixnum.</p><a href="Module (chicken file posix).html#file-truncate">
<h4 id="file-truncate">file-truncate</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-550"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-truncate%20FILE%20OFFSET%29"></a><tt>(file-truncate FILE OFFSET)</tt>
<br/></span>
<p>Truncates the file <tt>FILE</tt> to the length <tt>OFFSET</tt>, which should be an integer. If the file-size is smaller or equal to <tt>OFFSET</tt> then nothing is done.  <tt>FILE</tt> should be a filename, a file-descriptor or a port object.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#set-file-position">
<h4 id="set-file-position">set-file-position!</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-551"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set-file-position%21%20FILE%20POSITION%20%5BWHENCE%5D%29"></a><tt>(set-file-position! FILE POSITION [WHENCE])</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-552"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28set%21%20%28file-position%20FILE%29%20POSITION%29"></a><tt>(set! (file-position FILE) POSITION)</tt>
<br/></span>
<p>Sets the current read/write position of <tt>FILE</tt> to <tt>POSITION</tt>, which should be an exact integer. <tt>FILE</tt> should be a port or a file-descriptor.  <tt>WHENCE</tt> specifies how the position is to interpreted and should be one of the values <tt>seek/set, seek/cur</tt> and <tt>seek/end</tt>. It defaults to <tt>seek/set</tt>.</p>
<p>Exceptions: <tt>(exn bounds)</tt>, <tt>(exn i/o file)</tt></p><a href="Module (chicken file posix).html#file-creation-mode">
<h4 id="file-creation-mode">file-creation-mode</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-553"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-creation-mode%20%5BMODE%5D%29"></a><tt>(file-creation-mode [MODE])</tt>
<br/></span>
<p>Returns the initial file permissions used for newly created files (as with <tt>umask(2)</tt>).  If <tt>MODE</tt> is supplied, the mode is changed to this value.  You can set the mode by executing</p>
<pre><tt> (set! (file-creation-mode) MODE)</tt></pre>
<p>or</p>
<pre><tt> (file-creation-mode MODE)</tt></pre>
<p>where <tt>MODE</tt> is a bitwise combination of one or more of the <tt>perm/...</tt> flags.</p><a href="Module (chicken file posix).html#hard-and-symbolic-links">
<a class="dashingAutolink" name="autolink-522"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Hard%20and%20symbolic%20links"></a><h3 id="hard-and-symbolic-links">Hard and symbolic links</h3></a><a href="Module (chicken file posix).html#file-link">
<h4 id="file-link">file-link</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-554"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-link%20OLDNAME%20NEWNAME%29"></a><tt>(file-link OLDNAME NEWNAME)</tt>
<br/></span>
<p>Creates a hard link from <tt>OLDNAME</tt> to <tt>NEWNAME</tt> (both strings).</p><a href="Module (chicken file posix).html#symbolic-link">
<h4 id="symbolic-link">symbolic-link?</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-555"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28symbolic-link%3F%20FILE%29"></a><tt>(symbolic-link? FILE)</tt>
<br/></span>
<p>Returns true, if <tt>FILE</tt> names a symbolic link. If no such file exists, <tt>#f</tt> is returned.  This operation does not follow symbolic links itself. <tt>FILE</tt> could be a filename, file descriptor or port object.</p><a href="Module (chicken file posix).html#create-symbolic-link">
<h4 id="create-symbolic-link">create-symbolic-link</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-556"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28create-symbolic-link%20OLDNAME%20NEWNAME%29"></a><tt>(create-symbolic-link OLDNAME NEWNAME)</tt>
<br/></span>
<p>Creates a symbolic link with the filename <tt>NEWNAME</tt> that points to the file named <tt>OLDNAME</tt>.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#read-symbolic-link">
<h4 id="read-symbolic-link">read-symbolic-link</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-557"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28read-symbolic-link%20FILENAME%20%5BCANONICALIZE%5D%29"></a><tt>(read-symbolic-link FILENAME [CANONICALIZE])</tt>
<br/></span>
<p>Returns the filename to which the symbolic link <tt>FILENAME</tt> points. If <tt>CANONICALIZE</tt> is given and true, then symbolic links are resolved repeatedly until the result is not a link.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#file-descriptors-and-low-level-io">
<a class="dashingAutolink" name="autolink-523"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/File%20descriptors%20and%20low-level%20I%2FO"></a><h3 id="file-descriptors-and-low-level-io">File descriptors and low-level I/O</h3></a><a href="Module (chicken file posix).html#duplicate-fileno">
<h4 id="duplicate-fileno">duplicate-fileno</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-558"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28duplicate-fileno%20OLD%20%5BNEW%5D%29"></a><tt>(duplicate-fileno OLD [NEW])</tt>
<br/></span>
<p>If <tt>NEW</tt> is given, then the file-descriptor <tt>NEW</tt> is opened to access the file with the file-descriptor <tt>OLD</tt>. Otherwise a fresh file-descriptor accessing the same file as <tt>OLD</tt> is returned.</p><a href="Module (chicken file posix).html#file-close">
<h4 id="file-close">file-close</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-559"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-close%20FILENO%29"></a><tt>(file-close FILENO)</tt>
<br/></span>
<p>Closes the input/output file with the file-descriptor <tt>FILENO</tt>.</p><a href="Module (chicken file posix).html#file-open">
<h4 id="file-open">file-open</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-560"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-open%20FILENAME%20FLAGS%20%5BMODE%5D%29"></a><tt>(file-open FILENAME FLAGS [MODE])</tt>
<br/></span>
<p>Opens the file specified with the string <tt>FILENAME</tt> and open-flags <tt>FLAGS</tt> using the C function <tt>open(2)</tt>. On success a file-descriptor for the opened file is returned.</p>
<p><tt>FLAGS</tt> is a bitmask of <tt>open/...</tt> values <b>or</b>ed together using <tt>bitwise-ior</tt> (or simply added together).  You must provide exactly one of the access flags <tt>open/rdonly</tt>, <tt>open/wronly</tt>, or <tt>open/rdwr</tt>.  Additionally, you may provide zero or more creation flags (<tt>open/creat</tt>, <tt>open/excl</tt>, <tt>open/trunc</tt>, and <tt>open/noctty</tt>) and status flags (the remaining <tt>open/...</tt> values).  For example, to open a possibly new output file for appending:</p>
<pre><tt>(file-open &#34;/tmp/hen.txt&#34; (+ open/wronly open/append open/creat))</tt></pre>
<p>The optional <tt>MODE</tt> should be a bitmask composed of one or more permission values like <tt>perm/irusr</tt> and is only relevant when a new file is created. The default mode is <tt>perm/irwxu | perm/irgrp | perm/iroth</tt>.</p><a href="Module (chicken file posix).html#file-mkstemp">
<h4 id="file-mkstemp">file-mkstemp</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-561"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-mkstemp%20TEMPLATE-FILENAME%29"></a><tt>(file-mkstemp TEMPLATE-FILENAME)</tt>
<br/></span>
<p>Create a file based on the given <tt>TEMPLATE-FILENAME</tt>, in which the six last characters must be <i>XXXXXX</i>.  These will be replaced with a string that makes the filename unique.  The file descriptor of the created file and the generated filename is returned.  See the <tt>mkstemp(3)</tt> manual page for details on how this function works.  The template string given is not modified.</p>
<p>Example usage:</p>
<pre><tt class="highlight scheme-language"> <span class="paren1">(<span class="default">let-values <span class="paren2">(<span class="default"><span class="paren3">(<span class="default"><span class="paren4">(<span class="default">fd temp-path</span>)</span> <span class="paren4">(<span class="default">file-mkstemp <span class="string">&#34;/tmp/mytemporary.XXXXXX&#34;</span></span>)</span></span>)</span></span>)</span>
  <span class="paren2">(<span class="default"><i><span class="symbol">let</span></i> <span class="paren3">(<span class="default"><span class="paren4">(<span class="default">temp-port <span class="paren5">(<span class="default">open-output-file* fd</span>)</span></span>)</span></span>)</span>
    <span class="paren3">(<span class="default">format temp-port <span class="string">&#34;This file is ~A.~%&#34;</span> temp-path</span>)</span>
    <span class="paren3">(<span class="default">close-output-port temp-port</span>)</span></span>)</span></span>)</span></tt></pre><a href="Module (chicken file posix).html#file-read">
<h4 id="file-read">file-read</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-562"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-read%20FILENO%20SIZE%20%5BBUFFER%5D%29"></a><tt>(file-read FILENO SIZE [BUFFER])</tt>
<br/></span>
<p>Reads <tt>SIZE</tt> bytes from the file with the file-descriptor <tt>FILENO</tt>.  If a string or bytevector is passed in the optional argument <tt>BUFFER</tt>, then this string will be destructively modified to contain the read data. This procedure returns a list with two values: the buffer containing the data and the number of bytes read.</p><a href="Module (chicken file posix).html#file-select">
<h4 id="file-select">file-select</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-563"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-select%20READFDLIST%20WRITEFDLIST%20%5BTIMEOUT%5D%29"></a><tt>(file-select READFDLIST WRITEFDLIST [TIMEOUT])</tt>
<br/></span>
<p>Waits until any of the file-descriptors given in the lists <tt>READFDLIST</tt> and <tt>WRITEFDLIST</tt> is ready for input or output, respectively. If the optional argument <tt>TIMEOUT</tt> is given and not false, then it should specify the number of seconds after which the wait is to be aborted (the value may be a floating point number). This procedure returns two values: the lists of file-descriptors ready for input and output, respectively. <tt>READFDLIST</tt> and <b>WRITEFDLIST</b> may also by file-descriptors instead of lists.  In this case the returned values are booleans indicating whether input/output is ready by <tt>#t</tt> or <tt>#f</tt> otherwise.  You can also pass <tt>#f</tt> as <tt>READFDLIST</tt> or <tt>WRITEFDLIST</tt> argument, which is equivalent to <tt>()</tt>.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#file-write">
<h4 id="file-write">file-write</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-564"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-write%20FILENO%20BUFFER%20%5BSIZE%5D%29"></a><tt>(file-write FILENO BUFFER [SIZE])</tt>
<br/></span>
<p>Writes the contents of the string or bytevector <tt>BUFFER</tt> into the file with the file-descriptor <tt>FILENO</tt>. If the optional argument <tt>SIZE</tt> is given, then only the specified number of bytes are written.</p><a href="Module (chicken file posix).html#file-control">
<h4 id="file-control">file-control</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-565"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-control%20FILENO%20COMMAND%20%5BARGUMENT%5D%29"></a><tt>(file-control FILENO COMMAND [ARGUMENT])</tt>
<br/></span>
<p>Performs the fcntl operation <tt>COMMAND</tt> with the given <tt>FILENO</tt> and optional <tt>ARGUMENT</tt>. The return value is meaningful depending on the <tt>COMMAND</tt>.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#open-input-file">
<h4 id="open-input-file">open-input-file*</h4></a><a href="Module (chicken file posix).html#open-output-file">
<h4 id="open-output-file">open-output-file*</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-566"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28open-input-file%2A%20FILENO%20%5BOPENMODE%5D%29"></a><tt>(open-input-file* FILENO [OPENMODE])</tt>
<br/></span><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-567"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28open-output-file%2A%20FILENO%20%5BOPENMODE%5D%29"></a><tt>(open-output-file* FILENO [OPENMODE])</tt>
<br/></span>
<p>Opens file for the file-descriptor <tt>FILENO</tt> for input or output and returns a port.  <tt>FILENO</tt> should be a positive exact integer. <tt>OPENMODE</tt> specifies an additional mode for opening the file (currently only the keyword <tt>#:append</tt> is supported, which opens an output-file for appending).</p><a href="Module (chicken file posix).html#port-fileno">
<h4 id="port-fileno">port-&gt;fileno</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-568"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28port-%3Efileno%20PORT%29"></a><tt>(port-&gt;fileno PORT)</tt>
<br/></span>
<p>If <tt>PORT</tt> is a file- or tcp-port, then a file-descriptor is returned for this port. Otherwise an error is signaled.</p><a href="Module (chicken file posix).html#record-locking">
<a class="dashingAutolink" name="autolink-524"></a><a class="dashAnchor" name="//apple_ref/cpp/Section/Record%20locking"></a><h3 id="record-locking">Record locking</h3></a>
<p>These procedures are all unsupported on native Windows builds (all except cygwin).</p><a href="Module (chicken file posix).html#file-lock">
<h4 id="file-lock">file-lock</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-569"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-lock%20PORT%20%5BSTART%20%5BLEN%5D%5D%29"></a><tt>(file-lock PORT [START [LEN]])</tt>
<br/></span>
<p>Locks the file associated with <tt>PORT</tt> for reading or writing (according to whether <tt>PORT</tt> is an input- or output-port). <tt>START</tt> specifies the starting position in the file to be locked and defaults to 0. <tt>LEN</tt> specifies the length of the portion to be locked and defaults to <tt>#t</tt>, which means the complete file. <tt>file-lock</tt> returns a <i>lock</i>-object.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#file-lockblocking">
<h4 id="file-lockblocking">file-lock/blocking</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-570"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-lock%2Fblocking%20PORT%20%5BSTART%20%5BLEN%5D%5D%29"></a><tt>(file-lock/blocking PORT [START [LEN]])</tt>
<br/></span>
<p>Similar to <tt>file-lock</tt>, but if a lock is held on the file, the current process blocks (including all threads) until the lock is released.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#file-test-lock">
<h4 id="file-test-lock">file-test-lock</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-571"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-test-lock%20PORT%20%5BSTART%20%5BLEN%5D%5D%29"></a><tt>(file-test-lock PORT [START [LEN]])</tt>
<br/></span>
<p>Tests whether the file associated with <tt>PORT</tt> is locked for reading or writing (according to whether <tt>PORT</tt> is an input- or output-port) and returns either <tt>#f</tt> or the process-id of the locking process.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p><a href="Module (chicken file posix).html#file-unlock">
<h4 id="file-unlock">file-unlock</h4></a><span class="definition procedure"><em>[procedure]</em> <a class="dashingAutolink" name="autolink-572"></a><a class="dashAnchor" name="//apple_ref/cpp/Procedure/%28file-unlock%20LOCK%29"></a><tt>(file-unlock LOCK)</tt>
<br/></span>
<p>Unlocks the previously locked portion of a file given in <tt>LOCK</tt>.</p>
<p><b>NOTE</b>: On native Windows builds (all except cygwin), this procedure is unimplemented and will raise an error.</p>
<hr/>
<p>Previous: <a href="Module (chicken file).html" class="internal">Module (chicken file)</a></p>
<p>Next: <a href="Module (chicken fixnum).html" class="internal">Module (chicken fixnum)</a></p></div></body></html>